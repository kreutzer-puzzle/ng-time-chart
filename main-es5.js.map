{"version":3,"sources":["webpack:///ng-time-chart/src/lib/components/chart/ng-time-chart.component.ts","webpack:///ng-time-chart/src/lib/components/chart/ng-time-chart.component.html","webpack:///ng-time-chart/src/lib/group.ts","webpack:///src/environments/environment.ts","webpack:///ng-time-chart/src/lib/components/item-grouping/item-grouping.component.ts","webpack:///ng-time-chart/src/lib/components/item-grouping/item-grouping.component.html","webpack:///ng-time-chart/src/lib/layout/layout-strategy.enum.ts","webpack:///home/runner/work/ng-time-chart/ng-time-chart/node_modules/moment/locale sync ^\\.\\/.*$","webpack:///ng-time-chart/src/lib/components/time-table-body/time-table-body.component.ts","webpack:///ng-time-chart/src/lib/components/time-table-body/time-table-body.component.html","webpack:///ng-time-chart/src/lib/period.ts","webpack:///ng-time-chart/src/lib/layout/layout-selector.service.ts","webpack:///src/app/app.component.ts","webpack:///src/app/app.component.html","webpack:///ng-time-chart/src/lib/service/year.service.ts","webpack:///ng-time-chart/src/lib/components/ng-time-chart.module.ts","webpack:///ng-time-chart/src/lib/constants.ts","webpack:///src/app/app.module.ts","webpack:///ng-time-chart/src/lib/layout/stacked-layout.service.ts","webpack:///ng-time-chart/src/lib/layout/tiled-layout.service.ts","webpack:///ng-time-chart/src/lib/service/period.service.ts","webpack:///ng-time-chart/src/lib/components/item/item.component.ts","webpack:///ng-time-chart/src/lib/components/item/item.component.html","webpack:///src/app/app-routing.module.ts","webpack:///ng-time-chart/src/lib/pipes/time-chart-date-formatter.pipe.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["moment","NgTimeChartComponent","periodService","yearService","DAY_WIDTH","yearChange","year$","subscribe","year","emit","_groups$","today","hour","currentPeriod$","period$","pipe","period","isValid","months$","enumerateMonths","weeks$","enumerateWeeks","days$","enumerateDays","durationInDays$","days","length","precedingPeriodDaysBeforeFirstWeek$","getOldPeriodDaysBeforeFirstWeek","filteredGroups$","groups","filter","group","overlaps","duration","value","next","startDate","date","endDate","scrollTodayIntoView","day","isSame","isFullYear$","todayMarker","nativeElement","scrollIntoView","behavior","block","inline","isoWeekday","weekStart","clone","containsDate","add","difference","Math","ceil","diff","getMonthWithinPeriod","dayInMonth","fullMonth","startOf","endOf","intersect","myPeriod","enumerateWithinPeriod","months","current","push","enumerate","currentDate","expanded","isSameOrBefore","week","advanceDate","firstWeekInPeriod","selector","templateUrl","styleUrls","changeDetection","OnPush","providers","layoutStrategy","Group","name","items","onClick","calculateDuration","min","map","item","startTime","max","endTime","environment","production","ItemGroupingComponent","time","apply","itemGrouping","earliestDate","latestDate","groupingPeriod","isInPeriod","LayoutStrategy","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","webpackContextKeys","Object","resolve","module","exports","TimeTableBodyComponent","layoutSelectorService","SIDEBAR_WIDTH","doLayout","round","durationInDays","Period","_startDate","_endDate","countThursdays","count","startDay","isBefore","periods","splitAtNewYear","p","reduceRight","previousValue","currentValue","isSameOrAfter","latestStart","earliestEnd","isAfter","midYear","LayoutSelectorService","stackedLayout","tiledLayout","strategy","Stacked","Tiled","providedIn","AppComponent","currentYear","title","tiledLayoutStrategy","stackedLayoutStrategy","locale","details","alert","sort","a","b","asSeconds","dates","console","log","setStartDate","setEndDate","YearService","_year$","_period$","periodForYear","asObservable","forYear","NgTimeChartModule","declarations","imports","Constants","AppModule","bootstrap","StackedLayoutService","TiledLayoutService","itemOrder","ItemOrder","sorted","forEach","queues","_queues","getFreeQueue","getStartDate","createNewSubQueue","queuesWithFreeSpace","queue","getEndDate","myQueue","PeriodService","_startDate$","_endDate$","getCurrentYearPeriod","startAndEnd$","_isFullYear$","start","end","calculatePeriod","myStartDate","subtract","myEndDate","ItemComponent","floor","getStartDateInCurrentPeriod","getEndDateCurrentPeriod","referenceDate","refDate","myDate","routes","AppRoutingModule","forRoot","TimeChartDateFormatterPipe","dateString","format","bootstrapModule","err","error","webpackEmptyAsyncContext","Promise","then"],"mappings":"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","file":"main-es5.js","sourcesContent":["import {AfterViewInit, ChangeDetectionStrategy, Component, EventEmitter, Input, Output, ViewChild} from '@angular/core';\nimport * as moment_ from 'moment';\nimport {filter, map} from 'rxjs/operators';\nimport {Period} from '../../period';\nimport {BehaviorSubject, combineLatest, Observable, Subject} from 'rxjs';\nimport {Group} from '../../group';\nimport {Constants} from '../../constants';\nimport {LayoutStrategy} from '../../layout/layout-strategy.enum';\nimport {PeriodService} from '../../service/period.service';\nimport {YearService} from '../../service/year.service';\n\nconst moment = moment_;\n\n@Component({\n  selector: 'ng-time-chart',\n  templateUrl: './ng-time-chart.component.html',\n  styleUrls: ['./ng-time-chart.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    PeriodService,\n    YearService]\n})\nexport class NgTimeChartComponent implements AfterViewInit {\n\n  private readonly _groups$: Subject<Group[]>;\n\n  @Input()\n  set groups(value: Group[]) {\n    this._groups$.next(value);\n  }\n\n  readonly filteredGroups$: Observable<Group[]>;\n  readonly currentPeriod$: Observable<Period>;\n\n  @Input()\n  set startDate(date: moment_.Moment) {\n    this.periodService.startDate = date;\n  }\n\n  get startDate(): moment_.Moment {\n    return this.periodService.startDate;\n  }\n\n  @Input()\n  set endDate(date: moment_.Moment) {\n    this.periodService.endDate = date;\n  }\n\n  get endDate(): moment_.Moment {\n    return this.periodService.endDate;\n  }\n\n  get currentYear$(): Observable<number> {\n    return this.yearService.year$;\n  }\n\n  @Input()\n  layoutStrategy: LayoutStrategy;\n\n  @Output()\n  readonly yearChange: EventEmitter<number>;\n\n  @ViewChild('todayMarker') todayMarker;\n\n  readonly months$: Observable<Period[]>;\n  readonly weeks$: Observable<Period[]>;\n  readonly days$: Observable<moment_.Moment[]>;\n  readonly durationInDays$: Observable<number>;\n  readonly precedingPeriodDaysBeforeFirstWeek$: Observable<number>;\n  readonly today: moment_.Moment;\n\n  readonly DAY_WIDTH = Constants.DAY_WIDTH;\n\n  constructor(public periodService: PeriodService,\n              public yearService: YearService) {\n    this.yearChange = new EventEmitter<number>();\n    this.yearService.year$.subscribe(year => this.yearChange.emit(year));\n    this._groups$ = new BehaviorSubject<Group[]>([]);\n    this.today = moment().hour(12);\n    this.currentPeriod$ = combineLatest([this.periodService.period$, this.yearService.period$])\n      .pipe(map(([period, year]) => period != null ? period : year),\n        filter(period => period.isValid()));\n\n    this.months$ = this.currentPeriod$.pipe(map(period => NgTimeChartComponent.enumerateMonths(period)));\n    this.weeks$ = this.currentPeriod$.pipe(map(period => NgTimeChartComponent.enumerateWeeks(period)));\n    this.days$ = this.currentPeriod$.pipe(map(period => NgTimeChartComponent.enumerateDays(period)));\n    this.durationInDays$ = this.days$.pipe(map(days => days.length));\n    this.precedingPeriodDaysBeforeFirstWeek$ = this.currentPeriod$.pipe(\n      map(period => NgTimeChartComponent.getOldPeriodDaysBeforeFirstWeek(period))\n    );\n\n    this.filteredGroups$ = combineLatest([this.currentPeriod$, this._groups$])\n      .pipe(map(([period, groups]) => groups.filter(group => period.overlaps(group.duration))));\n  }\n\n\n  private static getOldPeriodDaysBeforeFirstWeek(period: Period): number {\n    if (!period.isValid()) {\n      return 0;\n    }\n    if (period.startDate.isoWeekday() <= 4) {\n      return 0;\n    }\n    const weekStart = period.startDate.clone().isoWeekday(1);\n    if (!period.containsDate(weekStart)) {\n      weekStart.add(1, 'week');\n    }\n    const difference = Math.ceil(weekStart.diff(period.startDate, 'days', true));\n    return difference > 0 ? difference : 0;\n  }\n\n  static enumerateMonths(period: Period): Period[] {\n    if (!period) {\n      return null;\n    }\n\n    function getMonthWithinPeriod(dayInMonth: moment_.Moment): Period {\n      const fullMonth = new Period(dayInMonth.clone().startOf('month'), dayInMonth.clone().endOf('month'));\n      return fullMonth.intersect(myPeriod);\n    }\n\n    function enumerateWithinPeriod(startDate: moment_.Moment): Period[] {\n      const months = [];\n      let current = startDate.clone();\n      while (myPeriod.containsDate(current)) {\n        months.push(getMonthWithinPeriod(current));\n        current = current.clone().add(1, 'month');\n      }\n      return months;\n    }\n\n\n    const myPeriod = new Period(period.startDate.clone().hour(0), period.endDate.clone().hour(23));\n    return enumerateWithinPeriod(period.startDate.clone());\n  }\n\n  static enumerateWeeks(period: Period): Period[] {\n    function enumerate(currentDate: moment_.Moment, expanded: Period[]): Period[] {\n      if (currentDate.isSameOrBefore(period.endDate, 'day')) {\n        const endDate = currentDate.clone().endOf('isoWeek');\n        const startDate = currentDate.clone().startOf('isoWeek');\n        const week = new Period(startDate, endDate);\n        expanded.push(period.intersect(week));\n        const advanceDate = currentDate.clone().add(1, 'week');\n        enumerate(advanceDate, expanded);\n      }\n      return expanded;\n    }\n\n    function firstWeekInPeriod(): moment_.Moment {\n      const date = period?.startDate.clone().isoWeekday(4);\n      return period.containsDate(date) ? date : date.add(1, 'week');\n    }\n\n    return !period ? null : enumerate(firstWeekInPeriod(), []);\n  }\n\n  static enumerateDays(period: Period): moment_.Moment[] {\n    function enumerate(currentDate: moment_.Moment, expanded: moment_.Moment[]) {\n      if (currentDate.isSameOrBefore(period.endDate, 'day')) {\n        expanded.push(currentDate);\n        const advanceDate = currentDate.clone().add(1, 'day');\n        enumerate(advanceDate, expanded);\n      }\n      return expanded;\n    }\n\n    return !period ? null : enumerate(period.startDate.clone(), []);\n  }\n\n  ngAfterViewInit() {\n    this.scrollTodayIntoView();\n  }\n\n  isToday(day: moment_.Moment): boolean {\n    return this.today.isSame(day, 'day');\n  }\n\n  changeYear(year: number) {\n    this.yearService.year = year;\n  }\n\n  showYearSpinner$(): Observable<boolean> {\n    return this.periodService.isFullYear$;\n  }\n\n  private scrollTodayIntoView() {\n    if (!!this.todayMarker) {\n      this.todayMarker.nativeElement.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'center'});\n    }\n  }\n}\n","<div class=\"timetable\">\n  <div class=\"timetable-header\"\n       [style.width.px]=\"(durationInDays$ | async) * DAY_WIDTH\">\n    <div class=\"year-selector label-bar\">\n      <div *ngIf=\"(showYearSpinner$() | async) && (currentYear$ | async) as currentYear\">\n        <h3 style=\"display: inline-block; cursor: pointer\" (click)=\"changeYear(currentYear -1)\">&lt; </h3>\n        <h1 style=\"display: inline-block\">{{currentYear}}</h1>\n        <h3 style=\"display: inline-block; cursor: pointer\" (click)=\"changeYear(currentYear + 1)\"> &gt;</h3>\n      </div>\n    </div>\n    <div class=\"calendar-header\"\n         [style.width.px]=\"(durationInDays$ | async) * DAY_WIDTH\">\n      <div class=\"months\">\n        <div *ngFor=\"let month of months$ | async\"\n             [style.width.px]=\"month.days * DAY_WIDTH\"\n             [style.max-width.px]=\"month.days * DAY_WIDTH\"\n             class=\"month\">\n          {{month.startDate.format('MMMM YYYY')}}\n        </div>\n      </div>\n      <div class=\"week-bar\">\n        <div class=\"weeks\">\n          <div class=\"week-offset\"\n               *ngIf=\"(precedingPeriodDaysBeforeFirstWeek$ |async)>0\"\n               [style.width.px]=\"(precedingPeriodDaysBeforeFirstWeek$ | async) * DAY_WIDTH\"></div>\n          <div class=\"week\"\n               *ngFor=\"let week of weeks$ | async\"\n               [style.width.px]=\"week.days * DAY_WIDTH\">({{week.startDate.isoWeek()}}\n            ){{week.startDate.startOf('isoWeek').format('L')}}</div>\n        </div>\n      </div>\n      <div class=\"days\">\n        <ng-container *ngFor=\"let day of days$ | async\">\n          <div class=\"day today\" *ngIf=\"isToday(day); else normalDay\" [ngClass]=\"{'today': isToday(day)}\" #todayMarker>\n            {{day.format('dd')}}\n          </div>\n          <ng-template #normalDay>\n            <div class=\"day\">\n              {{day.format('dd')}}\n            </div>\n          </ng-template>\n        </ng-container>\n      </div>\n    </div>\n  </div>\n  <ng-time-table-body [groups]=\"filteredGroups$ | async\"\n                      [today]=\"today\"\n                      [period]=\"currentPeriod$ | async\"\n                      [durationInDays]=\"durationInDays$ | async\"\n                      [layoutStrategy]=\"layoutStrategy\"></ng-time-table-body>\n</div>\n","import {Item} from './item';\nimport {Period} from './period';\nimport * as moment_ from 'moment';\n\nconst moment = moment_;\n\nexport class Group {\n  readonly name: string;\n  readonly items: Item[];\n  readonly duration?: Period;\n  onClick?: () => void;\n\n  public constructor(name: string, items: Item[], onClick = () => {\n  }) {\n    this.name = name;\n    this.items = items;\n    this.duration = Group.calculateDuration(items);\n    this.onClick = onClick;\n  }\n\n  private static calculateDuration(items: Item[]) {\n    const startDate = moment.min(items.map(item => item.startTime));\n    const endDate = moment.max(items.map(item => item.endTime));\n    if (!startDate || !endDate) {\n      return null;\n    }\n    return new Period(startDate, endDate);\n  }\n\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Component, Input} from '@angular/core';\nimport {Period} from '../../period';\nimport {Item} from '../../item';\nimport * as moment_ from 'moment';\nimport {max, min} from 'moment';\n\n@Component({\n  selector: 'ng-item-grouping',\n  templateUrl: './item-grouping.component.html',\n  styleUrls: ['./item-grouping.component.scss']\n})\nexport class ItemGroupingComponent {\n\n  @Input()\n  period: Period;\n\n  @Input()\n  itemGrouping: Item[];\n\n  constructor() {\n  }\n\n  isInPeriod(time: moment_.Moment): boolean {\n    return this.period.containsDate(time);\n  }\n\n  open(item: Item) {\n    item.onClick?.apply(null);\n  }\n\n  visibleInPeriod(itemGrouping: Item[]) {\n    if (!itemGrouping || itemGrouping.length === 0) {\n      return false;\n    }\n    const earliestDate = min(itemGrouping.map(item => item.startTime));\n    const latestDate = max(itemGrouping.map(item => item.endTime));\n    const groupingPeriod = new Period(earliestDate, latestDate);\n    return this.isInPeriod(earliestDate) ||\n      this.isInPeriod(latestDate) ||\n      groupingPeriod.containsDate(this.period.startDate);\n  }\n}\n","<div class=\"item-grouping\" *ngIf=\"visibleInPeriod(itemGrouping)\">\n  <div class=\"items\">\n    <ng-container *ngFor=\"let item of itemGrouping\">\n      <ng-item [period]=\"period\" [item]=\"item\"></ng-item>\n    </ng-container>\n  </div>\n</div>\n","export enum LayoutStrategy {\n  /**\n   * Stack items one on top of the other\n   */\n  Stacked = 0,\n  /**\n   * Try to tile items if their start and end dates do not overlap\n   */\n  Tiled = 1\n}\n","var map = {\n\t\"./af\": \"8GSH\",\n\t\"./af.js\": \"8GSH\",\n\t\"./ar\": \"NcOb\",\n\t\"./ar-dz\": \"1ors\",\n\t\"./ar-dz.js\": \"1ors\",\n\t\"./ar-kw\": \"Sc1Y\",\n\t\"./ar-kw.js\": \"Sc1Y\",\n\t\"./ar-ly\": \"GzvP\",\n\t\"./ar-ly.js\": \"GzvP\",\n\t\"./ar-ma\": \"hH25\",\n\t\"./ar-ma.js\": \"hH25\",\n\t\"./ar-sa\": \"u2jB\",\n\t\"./ar-sa.js\": \"u2jB\",\n\t\"./ar-tn\": \"5Mza\",\n\t\"./ar-tn.js\": \"5Mza\",\n\t\"./ar.js\": \"NcOb\",\n\t\"./az\": \"ZVVJ\",\n\t\"./az.js\": \"ZVVJ\",\n\t\"./be\": \"kQaN\",\n\t\"./be.js\": \"kQaN\",\n\t\"./bg\": \"+n5x\",\n\t\"./bg.js\": \"+n5x\",\n\t\"./bm\": \"TTiN\",\n\t\"./bm.js\": \"TTiN\",\n\t\"./bn\": \"aIF2\",\n\t\"./bn-bd\": \"lTqY\",\n\t\"./bn-bd.js\": \"lTqY\",\n\t\"./bn.js\": \"aIF2\",\n\t\"./bo\": \"QWb5\",\n\t\"./bo.js\": \"QWb5\",\n\t\"./br\": \"iQoZ\",\n\t\"./br.js\": \"iQoZ\",\n\t\"./bs\": \"EL7g\",\n\t\"./bs.js\": \"EL7g\",\n\t\"./ca\": \"vd/2\",\n\t\"./ca.js\": \"vd/2\",\n\t\"./cs\": \"K+3W\",\n\t\"./cs.js\": \"K+3W\",\n\t\"./cv\": \"Jt3X\",\n\t\"./cv.js\": \"Jt3X\",\n\t\"./cy\": \"sWi3\",\n\t\"./cy.js\": \"sWi3\",\n\t\"./da\": \"YcFX\",\n\t\"./da.js\": \"YcFX\",\n\t\"./de\": \"BKZ+\",\n\t\"./de-at\": \"Oq9h\",\n\t\"./de-at.js\": \"Oq9h\",\n\t\"./de-ch\": \"hHY4\",\n\t\"./de-ch.js\": \"hHY4\",\n\t\"./de.js\": \"BKZ+\",\n\t\"./dv\": \"w8Ej\",\n\t\"./dv.js\": \"w8Ej\",\n\t\"./el\": \"tSbB\",\n\t\"./el.js\": \"tSbB\",\n\t\"./en-au\": \"HgyJ\",\n\t\"./en-au.js\": \"HgyJ\",\n\t\"./en-ca\": \"ZyTy\",\n\t\"./en-ca.js\": \"ZyTy\",\n\t\"./en-gb\": \"exaB\",\n\t\"./en-gb.js\": \"exaB\",\n\t\"./en-ie\": \"yKzn\",\n\t\"./en-ie.js\": \"yKzn\",\n\t\"./en-il\": \"TB59\",\n\t\"./en-il.js\": \"TB59\",\n\t\"./en-in\": \"S70V\",\n\t\"./en-in.js\": \"S70V\",\n\t\"./en-nz\": \"iDxo\",\n\t\"./en-nz.js\": \"iDxo\",\n\t\"./en-sg\": \"zS0P\",\n\t\"./en-sg.js\": \"zS0P\",\n\t\"./eo\": \"4bvN\",\n\t\"./eo.js\": \"4bvN\",\n\t\"./es\": \"GNPT\",\n\t\"./es-do\": \"R7mU\",\n\t\"./es-do.js\": \"R7mU\",\n\t\"./es-mx\": \"FkqR\",\n\t\"./es-mx.js\": \"FkqR\",\n\t\"./es-us\": \"Nstw\",\n\t\"./es-us.js\": \"Nstw\",\n\t\"./es.js\": \"GNPT\",\n\t\"./et\": \"ZOjb\",\n\t\"./et.js\": \"ZOjb\",\n\t\"./eu\": \"kFC9\",\n\t\"./eu.js\": \"kFC9\",\n\t\"./fa\": \"8Cju\",\n\t\"./fa.js\": \"8Cju\",\n\t\"./fi\": \"vcN1\",\n\t\"./fi.js\": \"vcN1\",\n\t\"./fil\": \"3g1g\",\n\t\"./fil.js\": \"3g1g\",\n\t\"./fo\": \"8Ygf\",\n\t\"./fo.js\": \"8Ygf\",\n\t\"./fr\": \"Y8Ij\",\n\t\"./fr-ca\": \"t+Zl\",\n\t\"./fr-ca.js\": \"t+Zl\",\n\t\"./fr-ch\": \"SPXN\",\n\t\"./fr-ch.js\": \"SPXN\",\n\t\"./fr.js\": \"Y8Ij\",\n\t\"./fy\": \"T3MF\",\n\t\"./fy.js\": \"T3MF\",\n\t\"./ga\": \"NowM\",\n\t\"./ga.js\": \"NowM\",\n\t\"./gd\": \"GJYX\",\n\t\"./gd.js\": \"GJYX\",\n\t\"./gl\": \"MdC8\",\n\t\"./gl.js\": \"MdC8\",\n\t\"./gom-deva\": \"QJjq\",\n\t\"./gom-deva.js\": \"QJjq\",\n\t\"./gom-latn\": \"5j0y\",\n\t\"./gom-latn.js\": \"5j0y\",\n\t\"./gu\": \"fY0S\",\n\t\"./gu.js\": \"fY0S\",\n\t\"./he\": \"ACAV\",\n\t\"./he.js\": \"ACAV\",\n\t\"./hi\": \"3WqV\",\n\t\"./hi.js\": \"3WqV\",\n\t\"./hr\": \"OnNk\",\n\t\"./hr.js\": \"OnNk\",\n\t\"./hu\": \"EQmw\",\n\t\"./hu.js\": \"EQmw\",\n\t\"./hy-am\": \"MNf7\",\n\t\"./hy-am.js\": \"MNf7\",\n\t\"./id\": \"0yow\",\n\t\"./id.js\": \"0yow\",\n\t\"./is\": \"TmOJ\",\n\t\"./is.js\": \"TmOJ\",\n\t\"./it\": \"xD/0\",\n\t\"./it-ch\": \"foQf\",\n\t\"./it-ch.js\": \"foQf\",\n\t\"./it.js\": \"xD/0\",\n\t\"./ja\": \"jOnb\",\n\t\"./ja.js\": \"jOnb\",\n\t\"./jv\": \"lOtj\",\n\t\"./jv.js\": \"lOtj\",\n\t\"./ka\": \"BAN/\",\n\t\"./ka.js\": \"BAN/\",\n\t\"./kk\": \"iNiw\",\n\t\"./kk.js\": \"iNiw\",\n\t\"./km\": \"TUxt\",\n\t\"./km.js\": \"TUxt\",\n\t\"./kn\": \"hQzt\",\n\t\"./kn.js\": \"hQzt\",\n\t\"./ko\": \"ZNZT\",\n\t\"./ko.js\": \"ZNZT\",\n\t\"./ku\": \"S0Tg\",\n\t\"./ku.js\": \"S0Tg\",\n\t\"./ky\": \"JO+T\",\n\t\"./ky.js\": \"JO+T\",\n\t\"./lb\": \"vn/h\",\n\t\"./lb.js\": \"vn/h\",\n\t\"./lo\": \"gnIm\",\n\t\"./lo.js\": \"gnIm\",\n\t\"./lt\": \"6PD3\",\n\t\"./lt.js\": \"6PD3\",\n\t\"./lv\": \"YKe2\",\n\t\"./lv.js\": \"YKe2\",\n\t\"./me\": \"d3TR\",\n\t\"./me.js\": \"d3TR\",\n\t\"./mi\": \"hTlv\",\n\t\"./mi.js\": \"hTlv\",\n\t\"./mk\": \"ffVN\",\n\t\"./mk.js\": \"ffVN\",\n\t\"./ml\": \"ejL1\",\n\t\"./ml.js\": \"ejL1\",\n\t\"./mn\": \"RIsM\",\n\t\"./mn.js\": \"RIsM\",\n\t\"./mr\": \"CPJk\",\n\t\"./mr.js\": \"CPJk\",\n\t\"./ms\": \"d5Hy\",\n\t\"./ms-my\": \"t4T9\",\n\t\"./ms-my.js\": \"t4T9\",\n\t\"./ms.js\": \"d5Hy\",\n\t\"./mt\": \"1KVU\",\n\t\"./mt.js\": \"1KVU\",\n\t\"./my\": \"LsNb\",\n\t\"./my.js\": \"LsNb\",\n\t\"./nb\": \"h+U8\",\n\t\"./nb.js\": \"h+U8\",\n\t\"./ne\": \"2JSI\",\n\t\"./ne.js\": \"2JSI\",\n\t\"./nl\": \"jsZ8\",\n\t\"./nl-be\": \"+h6j\",\n\t\"./nl-be.js\": \"+h6j\",\n\t\"./nl.js\": \"jsZ8\",\n\t\"./nn\": \"mh29\",\n\t\"./nn.js\": \"mh29\",\n\t\"./oc-lnc\": \"zX+o\",\n\t\"./oc-lnc.js\": \"zX+o\",\n\t\"./pa-in\": \"O6bP\",\n\t\"./pa-in.js\": \"O6bP\",\n\t\"./pl\": \"8Bez\",\n\t\"./pl.js\": \"8Bez\",\n\t\"./pt\": \"DDip\",\n\t\"./pt-br\": \"uHm5\",\n\t\"./pt-br.js\": \"uHm5\",\n\t\"./pt.js\": \"DDip\",\n\t\"./ro\": \"baBi\",\n\t\"./ro.js\": \"baBi\",\n\t\"./ru\": \"ecsu\",\n\t\"./ru.js\": \"ecsu\",\n\t\"./sd\": \"e9KM\",\n\t\"./sd.js\": \"e9KM\",\n\t\"./se\": \"CZRU\",\n\t\"./se.js\": \"CZRU\",\n\t\"./si\": \"TO58\",\n\t\"./si.js\": \"TO58\",\n\t\"./sk\": \"K+Lk\",\n\t\"./sk.js\": \"K+Lk\",\n\t\"./sl\": \"QK6v\",\n\t\"./sl.js\": \"QK6v\",\n\t\"./sq\": \"v3Qg\",\n\t\"./sq.js\": \"v3Qg\",\n\t\"./sr\": \"Ndyf\",\n\t\"./sr-cyrl\": \"PGvg\",\n\t\"./sr-cyrl.js\": \"PGvg\",\n\t\"./sr.js\": \"Ndyf\",\n\t\"./ss\": \"2B8G\",\n\t\"./ss.js\": \"2B8G\",\n\t\"./sv\": \"WF5B\",\n\t\"./sv.js\": \"WF5B\",\n\t\"./sw\": \"4VvY\",\n\t\"./sw.js\": \"4VvY\",\n\t\"./ta\": \"dw3T\",\n\t\"./ta.js\": \"dw3T\",\n\t\"./te\": \"4MAb\",\n\t\"./te.js\": \"4MAb\",\n\t\"./tet\": \"/hi0\",\n\t\"./tet.js\": \"/hi0\",\n\t\"./tg\": \"PoVJ\",\n\t\"./tg.js\": \"PoVJ\",\n\t\"./th\": \"OY2w\",\n\t\"./th.js\": \"OY2w\",\n\t\"./tk\": \"zO4H\",\n\t\"./tk.js\": \"zO4H\",\n\t\"./tl-ph\": \"UC+K\",\n\t\"./tl-ph.js\": \"UC+K\",\n\t\"./tlh\": \"cWLW\",\n\t\"./tlh.js\": \"cWLW\",\n\t\"./tr\": \"EqYs\",\n\t\"./tr.js\": \"EqYs\",\n\t\"./tzl\": \"fN8o\",\n\t\"./tzl.js\": \"fN8o\",\n\t\"./tzm\": \"6cYq\",\n\t\"./tzm-latn\": \"pdAN\",\n\t\"./tzm-latn.js\": \"pdAN\",\n\t\"./tzm.js\": \"6cYq\",\n\t\"./ug-cn\": \"J+SV\",\n\t\"./ug-cn.js\": \"J+SV\",\n\t\"./uk\": \"6Olw\",\n\t\"./uk.js\": \"6Olw\",\n\t\"./ur\": \"QNGR\",\n\t\"./ur.js\": \"QNGR\",\n\t\"./uz\": \"hLzJ\",\n\t\"./uz-latn\": \"KqOT\",\n\t\"./uz-latn.js\": \"KqOT\",\n\t\"./uz.js\": \"hLzJ\",\n\t\"./vi\": \"EnIJ\",\n\t\"./vi.js\": \"EnIJ\",\n\t\"./x-pseudo\": \"W7dU\",\n\t\"./x-pseudo.js\": \"W7dU\",\n\t\"./yo\": \"QDhB\",\n\t\"./yo.js\": \"QDhB\",\n\t\"./zh-cn\": \"bjMe\",\n\t\"./zh-cn.js\": \"bjMe\",\n\t\"./zh-hk\": \"JFCg\",\n\t\"./zh-hk.js\": \"JFCg\",\n\t\"./zh-mo\": \"5BRa\",\n\t\"./zh-mo.js\": \"5BRa\",\n\t\"./zh-tw\": \"xBDH\",\n\t\"./zh-tw.js\": \"xBDH\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"MROq\";","import {Component, Input, ViewChild} from '@angular/core';\nimport {Constants} from '../../constants';\nimport * as moment_ from 'moment';\nimport {Group} from '../../group';\nimport {Item} from '../../item';\nimport {Period} from '../../period';\nimport {LayoutSelectorService} from '../../layout/layout-selector.service';\nimport {LayoutStrategy} from '../../layout/layout-strategy.enum';\n\n@Component({\n  selector: 'ng-time-table-body',\n  templateUrl: './time-table-body.component.html',\n  styleUrls: ['./time-table-body.component.scss']\n})\nexport class TimeTableBodyComponent {\n\n  readonly DAY_WIDTH = Constants.DAY_WIDTH;\n  readonly SIDEBAR_WIDTH = Constants.SIDEBAR_WIDTH;\n\n  @Input()\n  groups: Group[];\n\n  @Input()\n  period: Period;\n\n  @Input()\n  today: moment_.Moment;\n\n  @Input()\n  durationInDays: number;\n\n  @Input()\n  layoutStrategy: LayoutStrategy;\n\n  @ViewChild('todaymarker') todayMarker;\n\n\n  constructor(readonly layoutSelectorService: LayoutSelectorService) {\n    this.groups = [];\n  }\n\n  doLayout(items: Item[]): Item[][] {\n    return this.layoutSelectorService.doLayout(items, this.layoutStrategy);\n  }\n\n  getDayOfPeriod(date: moment_.Moment): number {\n    if (!this.period.containsDate(date)) {\n      return 0;\n    }\n    return Math.round(date.diff(this.period.startDate, 'days', true)) - 1;\n  }\n\n  isInPeriod(time: moment_.Moment): boolean {\n    return this.period.containsDate(time);\n  }\n\n  open(group: Group) {\n    group.onClick?.apply(null);\n  }\n}\n","<div class=\"timetable-body\"\n     [style.minWidth.px]=\"durationInDays * DAY_WIDTH + SIDEBAR_WIDTH\">\n  <div class=\"item-group\"\n       *ngFor=\"let group of groups\">\n    <div class=\"item-label label-bar\" (click)=\"open(group)\">\n      {{group.name}}\n    </div>\n    <div class=\"item-display\">\n      <ng-container *ngFor=\"let itemGrouping of doLayout(group.items)\">\n        <ng-item-grouping [itemGrouping]=\"itemGrouping\" [period]=\"period\"></ng-item-grouping>\n      </ng-container>\n    </div>\n  </div>\n  <div class=\"today-marker\"\n       *ngIf=\"isInPeriod(this.today)\"\n       [style.left.px]=\"(getDayOfPeriod(this.today) * DAY_WIDTH) + SIDEBAR_WIDTH + 7\"></div>\n</div>\n","import * as moment_ from 'moment';\nimport {max, min} from 'moment';\n\nconst moment = moment_;\n\nexport class Period {\n\n  private readonly _startDate: moment_.Moment;\n  private readonly _endDate: moment_.Moment;\n\n  private static splitAtNewYear(period: Period): Period[] {\n    const periods: Period[] = [];\n    if (period.endDate.year() > period.startDate.year()) {\n      periods.push(new Period(period.startDate.clone(), moment(`${period.startDate.year()}-12-31`)));\n      periods.push(...Period.splitAtNewYear(new Period(moment(`${period.endDate.year()}-01-01`), period.endDate.clone())));\n    } else {\n      periods.push(period);\n    }\n    return periods;\n  }\n\n  constructor(startDate: moment_.Moment, endDate: moment_.Moment) {\n    this._startDate = startDate?.clone();\n    this._endDate = endDate?.clone();\n  }\n\n  static forYear(year: number): Period {\n    const midYear = moment(`${year}-06-01`);\n    return new Period(midYear.clone().startOf('year'), midYear.clone().endOf('year'));\n  }\n\n  get startDate(): moment_.Moment {\n    return this._startDate;\n  }\n\n  get endDate(): moment_.Moment {\n    return this._endDate;\n  }\n\n  get days(): number {\n    return Math.ceil(this.endDate.diff(this.startDate, 'days', true));\n  }\n\n  get isoWeeks(): number {\n\n    function countThursdays(period: Period) {\n      let count = 0;\n      const startDay = period.startDate.clone().isoWeekday(4);\n      if (startDay.isBefore(period.startDate)) {\n        startDay.add(7, 'days');\n      }\n      if (period.days >= 4) {\n        while (startDay.isSameOrBefore(period.endDate, 'day')) {\n          count++;\n          startDay.add(7, 'days');\n        }\n      }\n      return count;\n    }\n\n    const periods = Period.splitAtNewYear(this);\n    return periods.map(p => countThursdays(p))\n      .reduceRight((previousValue, currentValue) => previousValue + currentValue);\n  }\n\n  public isValid(): boolean {\n    return !!this.startDate && !!this.endDate && this.startDate.isBefore(this.endDate);\n  }\n\n  public containsDate(date: moment.Moment): boolean {\n    return date.isSameOrAfter(this.startDate) && date.isSameOrBefore(this.endDate);\n  }\n\n  public toString() {\n    return `Period (${this.startDate} - ${this.endDate})`;\n  }\n\n  public overlaps(period: Period): boolean {\n    return !!this.intersect(period);\n  }\n\n  intersect(period: Period): Period {\n    const latestStart = max(this.startDate, period.startDate);\n    const earliestEnd = min(this.endDate, period.endDate);\n    if (!latestStart || !earliestEnd) {\n      return null;\n    }\n    if (latestStart.isAfter(earliestEnd)) {\n      return null;\n    }\n    return new Period(latestStart, earliestEnd);\n  }\n\n  public equals(period: Period) {\n    return this.startDate.isSame(period.startDate) && this.endDate.isSame(period.endDate);\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {StackedLayoutService} from './stacked-layout.service';\nimport {TiledLayoutService} from './tiled-layout.service';\nimport {Item} from '../item';\nimport {LayoutStrategy} from './layout-strategy.enum';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class LayoutSelectorService {\n\n  constructor(private readonly stackedLayout: StackedLayoutService,\n              private readonly tiledLayout: TiledLayoutService) {\n  }\n\n  /**\n   * Does the layout of the an {@link Item} list using the selected strategy\n   * @param items The Items to lay out\n   * @param strategy The {@link LayoutStrategy} to use to layout the items\n   */\n  public doLayout(items: Item[], strategy: LayoutStrategy = LayoutStrategy.Stacked): Item[][] {\n    switch (strategy) {\n      case LayoutStrategy.Stacked:\n        return this.stackedLayout.doLayout(items);\n      case LayoutStrategy.Tiled:\n        return this.tiledLayout.doLayout(items);\n\n    }\n  }\n\n}\n","import {Component} from '@angular/core';\nimport * as moment_ from 'moment';\nimport 'moment/locale/de-ch';\nimport {Group} from '../../../ng-time-chart/src/lib/group';\nimport {LayoutStrategy} from '../../../ng-time-chart/src/lib/layout/layout-strategy.enum';\n\nconst moment = moment_;\n\n@Component({\n  selector: 'ng-tl-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  readonly currentYear = moment().year();\n\n  title = 'NgTimeChartLibrary';\n\n  groups: Group[];\n  startDate = moment(`${this.currentYear}-05-01`);\n  endDate = moment(`${this.currentYear}-08-31`);\n  readonly tiledLayoutStrategy = LayoutStrategy.Tiled;\n  readonly stackedLayoutStrategy = LayoutStrategy.Stacked;\n\n  constructor() {\n    moment.locale('de-ch');\n    this.groups = [\n      new Group(\n        'Testgroup 0',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-02-12`),\n            endTime: moment(`${this.currentYear}-03-23`),\n            class: 'type-b'\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-03-25`),\n            endTime: moment(`${this.currentYear}-03-30T01:30`),\n            class: 'type-a',\n            details: 'More information of Testitem 1',\n            onClick: () => alert('I was clicked 😊')\n          },\n          {\n            name: 'Testitem 2',\n            startTime: moment(`${this.currentYear}-04-01`),\n            endTime: moment(`${this.currentYear}-04-07`),\n            class: 'type-b'\n          },\n          {\n            name: 'Testitem 3',\n            startTime: moment(`${this.currentYear}-04-08`),\n            endTime: moment(`${this.currentYear}-04-12`),\n            class: 'type-b'\n          },\n          {\n            name: 'Testitem 4',\n            startTime: moment(`${this.currentYear}-04-02`),\n            endTime: moment(`${this.currentYear}-04-05`),\n            class: 'type-b',\n            details: 'More information of Testitem 4. A lot of text to show how this is handled.'\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => alert('Group clicked')\n      ),\n      new Group(\n        'Testgroup 1',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-02-12`),\n            endTime: moment(`${this.currentYear}-05-23`),\n            details: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.',\n            class: 'type-c'\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-04-11`),\n            endTime: moment(`${this.currentYear}-04-28T00:30`),\n            details: 'Oh, there\\'s a monkey in my pocket, And he\\'s stealing all my change. His stare is blank and glassy, I suspect he\\'s deranged 🐒',\n            class: 'type-c',\n            dates: [\n              moment(`${this.currentYear}-04-11`),\n              moment(`${this.currentYear}-04-12`),\n              moment(`${this.currentYear}-04-13`),\n              moment(`${this.currentYear}-04-14`),\n              moment(`${this.currentYear}-04-15`),\n              moment(`${this.currentYear}-04-16`),\n              moment(`${this.currentYear}-04-17`),\n              moment(`${this.currentYear}-04-18`),\n              moment(`${this.currentYear}-04-19`),\n              moment(`${this.currentYear}-04-20`),\n              moment(`${this.currentYear}-04-21`),\n              moment(`${this.currentYear}-04-22`),\n              moment(`${this.currentYear}-04-23`),\n              moment(`${this.currentYear}-04-24`),\n              moment(`${this.currentYear}-04-25`),\n              moment(`${this.currentYear}-04-26`),\n              moment(`${this.currentYear}-04-27`),\n              moment(`${this.currentYear}-04-28`)\n            ]\n          },\n          {\n            name: 'Testitem 2',\n            startTime: moment(`${this.currentYear}-10-08T22:00`),\n            endTime: moment(`${this.currentYear}-10-10T04:30`),\n            class: 'type-b',\n            dates: [\n              moment(`${this.currentYear}-10-08`),\n              moment(`${this.currentYear}-10-09`),\n              moment(`${this.currentYear}-10-10`)\n            ]\n          },\n          {\n            name: 'Testitem 3',\n            startTime: moment(`${this.currentYear}-10-11T00:01`),\n            endTime: moment(`${this.currentYear}-10-12T05:00`),\n            class: 'type-b',\n            dates: [\n              moment(`${this.currentYear}-10-11`),\n              moment(`${this.currentYear}-10-12`)\n            ]\n          },].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 2',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-06-12T08:23`),\n            endTime: moment(`${this.currentYear}-07-01T06:23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-08-11`),\n            endTime: moment(`${this.currentYear}-09-02`)\n          },\n          {\n            name: 'Testitem 3',\n            startTime: moment(`${this.currentYear}-07-01T08:23`),\n            endTime: moment(`${this.currentYear}-07-12T23:23`)\n          },].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 3',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-09-12`),\n            endTime: moment(`${this.currentYear}-10-23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-10-11`),\n            endTime: moment(`${this.currentYear}-11-02`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 4',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-02-12`),\n            endTime: moment(`${this.currentYear}-05-23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-12-11`),\n            endTime: moment(`${this.currentYear + 1}-03-02`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 5',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-03-12`),\n            endTime: moment(`${this.currentYear}-03-23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-03-11`),\n            endTime: moment(`${this.currentYear}-04-02`)\n          },\n          {\n            name: 'Testitem 2',\n            startTime: moment(`${this.currentYear}-04-01`),\n            endTime: moment(`${this.currentYear}-04-04`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 6',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-06-12`),\n            endTime: moment(`${this.currentYear}-07-23`),\n            class: 'type-c'\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-08-11`),\n            endTime: moment(`${this.currentYear}-09-02`),\n            class: 'type-a'\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 7',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear - 1}-09-12`),\n            endTime: moment(`${this.currentYear - 1}-10-23`),\n            class: 'my-class-a'\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 2}-10-11`),\n            endTime: moment(`${this.currentYear - 1}-11-02`),\n            class: 'my-class-a'\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 8',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-02-12`),\n            endTime: moment(`${this.currentYear}-04-23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-05-11`),\n            endTime: moment(`${this.currentYear}-06-02`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 9',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-02-12`),\n            endTime: moment(`${this.currentYear}-05-23`),\n            dates: [\n              moment(`${this.currentYear}-04-11`),\n              moment(`${this.currentYear}-04-12`)\n            ]\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear}-04-11`),\n            endTime: moment(`${this.currentYear}-05-02`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 10',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-06-12`),\n            endTime: moment(`${this.currentYear}-07-23`),\n            class: 'type-a',\n            dates: [\n              moment(`${this.currentYear}-06-18`),\n              moment(`${this.currentYear}-06-19`),\n              moment(`${this.currentYear}-06-23`),\n              moment(`${this.currentYear}-06-24`)\n            ]\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-08-11`),\n            endTime: moment(`${this.currentYear}-06-02`),\n            class: 'type-a'\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 11',\n        [\n          {\n            name: 'Testitem 0',\n            startTime: moment(`${this.currentYear}-09-12`),\n            endTime: moment(`${this.currentYear + 1}-01-23`)\n          },\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-10-11`),\n            endTime: moment(`${this.currentYear}-11-02`)\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 12',\n        [\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-09-01T20:30:00`),\n            endTime: moment(`${this.currentYear + 1}-12-12T04:30:00`),\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n      new Group(\n        'Testgroup 13',\n        [\n          {\n            name: 'Testitem 1',\n            startTime: moment(`${this.currentYear - 1}-09-01T20:30:00`),\n            endTime: moment(`${this.currentYear - 1}-12-12T04:30:00`),\n          },\n          {\n            name: 'Testitem 2',\n            startTime: moment(`${this.currentYear}-09-01T20:30:00`),\n            endTime: moment(`${this.currentYear}-12-12T04:30:00`),\n          },\n          {\n            name: 'Testitem 3',\n            startTime: moment(`${this.currentYear + 1}-09-01T20:30:00`),\n            endTime: moment(`${this.currentYear + 1}-12-12T04:30:00`),\n          }].sort((a, b) => moment.duration(a.startTime.diff(b.startTime)).asSeconds()),\n        () => console.log('clicked')\n      ),\n    ];\n  }\n\n  setStartDate(value: string) {\n    this.startDate = (!!value && value.length > 0) ? moment((value)) : null;\n  }\n\n  setEndDate(value: string) {\n    this.endDate = (!!value && value.length > 0) ? moment((value)) : null;\n  }\n}\n","<!--The content below is only a placeholder and can be replaced.-->\n<div class=\"content\">\n  <div style=\"text-align:center\">\n    <h1>\n      Welcome to {{ title }}!\n    </h1>\n  </div>\n  <div class=\"calendar-showcase\">\n    <h1>Calendar with year selector</h1>\n    <ng-time-chart [groups]=\"groups\" [layoutStrategy]=\"tiledLayoutStrategy\">\n    </ng-time-chart>\n  </div>\n    <div class=\"calendar-showcase\" style=\"margin-top: 100px\">\n      <h1>Calendar with dynamic length</h1>\n      <div class=\"date-input\">\n        <label for=\"start-date\">Start date:</label>\n        <input #start_date type=\"date\"\n               id=\"start-date\"\n               name=\"start-date\"\n               (blur)=\"setStartDate(start_date.value)\"\n               value=\"2020-05-01\">\n      </div>\n      <div class=\"date-input\">\n        <label for=\"end-date\">End date:</label>\n        <input #end_date type=\"date\"\n               id=\"end-date\"\n               name=\"end-date\"\n               (blur)=\"setEndDate(end_date.value)\"\n               value=\"2020-08-31\">\n      </div>\n      <ng-time-chart [groups]=\"groups\" [startDate]=\"startDate\" [endDate]=\"endDate\"\n                     [layoutStrategy]=\"stackedLayoutStrategy\">\n      </ng-time-chart>\n    </div>\n</div>\n<router-outlet></router-outlet>\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, Observable, Subject} from 'rxjs';\nimport {Period} from '../period';\nimport * as moment_ from 'moment';\nimport {map} from 'rxjs/operators';\n\nconst moment = moment_;\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class YearService {\n\n  private readonly _year$: Subject<number>;\n  private readonly _period$: Observable<Period>;\n\n  set year(value: number) {\n    this._year$.next(value);\n  }\n\n  get year$(): Observable<number> {\n    return this._year$.asObservable();\n  }\n\n  get period$() {\n    return this._period$;\n  }\n\n  private static periodForYear(year: number) {\n    return Period.forYear(year);\n  }\n\n  constructor() {\n    this._year$ = new BehaviorSubject<number>(moment().year());\n    this._period$ = this._year$.pipe(map(year => YearService.periodForYear(year)));\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {NgTimeChartComponent} from './chart/ng-time-chart.component';\nimport {CommonModule} from '@angular/common';\nimport {TimeTableBodyComponent} from './time-table-body/time-table-body.component';\nimport {ItemGroupingComponent} from './item-grouping/item-grouping.component';\nimport {TimeChartDateFormatterPipe} from '../pipes/time-chart-date-formatter.pipe';\nimport {ItemComponent} from './item/item.component';\n\n@NgModule({\n  declarations: [\n    TimeTableBodyComponent,\n    ItemGroupingComponent,\n    TimeChartDateFormatterPipe,\n    ItemComponent,\n    NgTimeChartComponent\n  ],\n  imports: [\n    CommonModule,\n  ],\n  exports: [\n    ItemComponent,\n    TimeTableBodyComponent,\n    ItemGroupingComponent,\n    NgTimeChartComponent\n  ]\n})\nexport class NgTimeChartModule {\n}\n","export class Constants {\n  public static readonly DAY_WIDTH = 20;\n  public static readonly SIDEBAR_WIDTH = 200;\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { NgTimeChartModule } from '../../../ng-time-chart/src/lib/components/ng-time-chart.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    NgTimeChartModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import {Injectable} from '@angular/core';\nimport {LayoutService} from './layout.service';\nimport {Item} from '../item';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StackedLayoutService implements LayoutService {\n\n  constructor() {\n  }\n\n  doLayout(items: Item[]): Item[][] {\n    return items.map(item => [item]);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport * as moment_ from 'moment';\nimport {LayoutService} from './layout.service';\nimport {Item} from '../item';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TiledLayoutService implements LayoutService {\n\n  constructor() {\n  }\n\n  /**\n   * Tries to layout items in the most compact way\n   * @param items The {@link Item}s to lay out.\n   */\n  public doLayout(items: Item[]): Item[][] {\n    const itemOrder = new ItemOrder();\n    const sorted = items.sort((a, b) => a.startTime.diff(b.startTime));\n    sorted.forEach(item => itemOrder.add(item));\n    return itemOrder.queues;\n  }\n}\n\nclass ItemOrder {\n\n  get queues(): Item[][] {\n    return this._queues;\n  }\n\n  constructor() {\n    this._queues = [];\n  }\n  private readonly _queues: Item[][];\n\n  private static getStartDate(item: Item): moment_.Moment {\n    return item.startTime.clone().startOf('day');\n  }\n\n  private static getEndDate(item: Item): moment_.Moment {\n    return item.endTime.clone().endOf('day');\n  }\n\n  add(item: Item) {\n    this.getFreeQueue(ItemOrder.getStartDate(item)).push(item);\n\n  }\n\n  private getFreeQueue(date: moment_.Moment): Item[] {\n    if (this._queues.length === 0) {\n      return this.createNewSubQueue();\n    }\n\n    const queuesWithFreeSpace = this._queues.filter(queue => ItemOrder.getEndDate(queue[queue.length - 1]).isBefore(date));\n    if (queuesWithFreeSpace.length > 0) {\n      return queuesWithFreeSpace[0];\n    }\n\n    return this.createNewSubQueue();\n  }\n\n  private createNewSubQueue(): Item[] {\n    const myQueue: Item[] = [];\n    this._queues.push(myQueue);\n    return myQueue;\n  }\n\n}\n","import {Injectable} from '@angular/core';\nimport {BehaviorSubject, combineLatest, Observable, Subject} from 'rxjs';\nimport {Period} from '../period';\nimport * as moment_ from 'moment';\nimport {map} from 'rxjs/operators';\n\nconst moment = moment_;\n\n/**\n * The service provides the current calendar period. It is specified:\n * <ul>\n *   <li>As the period between a start and end date if both are specified</li>\n *   <li>The duration of a year following the start date if no end date is specified</li>\n *   <li>The duration of a year preceding the end date if no start date is specified</li>\n *   <li>The full current year from jan 1st to dec 31 if neither start nor end date are specified</li>\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class PeriodService {\n\n  private readonly _period$: Observable<Period>;\n  private readonly _isFullYear$: Observable<boolean>;\n  private readonly _startDate$: Subject<moment_.Moment>;\n  private readonly _endDate$: Subject<moment_.Moment>;\n\n\n  /**\n   * Set the start date of the period. If the parameter is null the start date will be calculated\n   * @param date A momentjs date or null\n   */\n  set startDate(date: moment_.Moment) {\n    this._startDate$.next(date);\n  }\n\n  /**\n   * Set the end date of the period. If the parameter is null the end date will be  calculated.\n   * @param date A momentjs date or null\n   */\n  set endDate(date: moment_.Moment) {\n    this._endDate$.next(date);\n  }\n\n  /**\n   * The observable with the period between start- and end date or the current year if neither is passed.\n   */\n  public get period$(): Observable<Period> {\n    return this._period$;\n  }\n\n  /**\n   * Returns true if neither start nor end were given and the current year was picked instead.\n   */\n  public get isFullYear$(): Observable<boolean> {\n    return this._isFullYear$;\n  }\n\n  constructor() {\n    this._startDate$ = new BehaviorSubject(null);\n    this._endDate$ = new BehaviorSubject(null);\n    this._period$ = new BehaviorSubject(PeriodService.getCurrentYearPeriod());\n    const startAndEnd$ = combineLatest([this._startDate$, this._endDate$]);\n    this._isFullYear$ = startAndEnd$.pipe(map(([start, end]) => !start && !end));\n    this._period$ = startAndEnd$.pipe(map(([start, end]) => PeriodService.calculatePeriod(start, end)));\n  }\n\n  private static getCurrentYearPeriod() {\n    const currentYear = moment();\n    return new Period(\n      currentYear.clone().startOf('year'),\n      currentYear.clone().endOf('year')\n    );\n  }\n\n  private static calculatePeriod(startDate: moment_.Moment, endDate: moment_.Moment): Period {\n    if (startDate == null && endDate == null) {\n      return null;\n    }\n    let myStartDate;\n    if (startDate != null) {\n      myStartDate = startDate;\n    } else {\n      myStartDate = endDate.clone();\n      myStartDate.subtract(1, 'year');\n    }\n\n    let myEndDate;\n    if (endDate != null) {\n      myEndDate = endDate.clone();\n    } else {\n      myEndDate = myStartDate.clone();\n      myEndDate.add(1, 'year');\n    }\n    return new Period(myStartDate, myEndDate);\n  }\n}\n","import {Component, Input, OnInit} from '@angular/core';\nimport {Item} from '../../item';\nimport {Constants} from '../../constants';\nimport {Period} from '../../period';\nimport * as moment_ from 'moment';\n\nconst moment = moment_;\n\n@Component({\n  selector: 'ng-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.scss']\n})\nexport class ItemComponent implements OnInit {\n\n  readonly DAY_WIDTH = Constants.DAY_WIDTH;\n  readonly SIDEBAR_WIDTH = Constants.SIDEBAR_WIDTH;\n\n  @Input()\n  period: Period;\n\n  @Input()\n  item: Item;\n\n  constructor() {\n  }\n\n  ngOnInit(): void {\n  }\n\n  isVisible(item: Item) {\n    return this.isInPeriod(item.startTime) ||\n      this.isInPeriod(item.endTime) ||\n      new Period(item.startTime, item.endTime).containsDate(this.period.startDate);\n  }\n\n  isInPeriod(time: moment_.Moment): boolean {\n    return this.period.containsDate(time);\n  }\n\n  getDayOfPeriod(date: moment_.Moment): number {\n    if (!this.period.containsDate(date)) {\n      return 0;\n    }\n    return Math.floor(date.diff(this.period.startDate, 'days', true));\n  }\n\n  getDuration(item: Item): number {\n    const startDate = this.getStartDateInCurrentPeriod(item.startTime).startOf('day');\n    const endDate = this.getEndDateCurrentPeriod(item.endTime).endOf('day');\n    return Math.ceil(endDate.diff(startDate, 'days', true));\n  }\n\n  isNotInPeriod(time: moment_.Moment): boolean {\n    return !this.period.containsDate(time);\n  }\n\n  getDaysSince(referenceDate: string | moment_.Moment, date: string | moment_.Moment): number {\n    const refDate = this.getStartDateInCurrentPeriod(moment(referenceDate)).startOf('day');\n    const myDate = this.getStartDateInCurrentPeriod(moment(date)).startOf('day');\n    return Math.ceil(myDate.diff(moment(refDate), 'days', true));\n  }\n\n  open(item: Item) {\n    item.onClick?.apply(null);\n  }\n\n  private getStartDateInCurrentPeriod(startDate: moment_.Moment) {\n    const date = startDate.clone();\n    if (date.isBefore(this.period.startDate)) {\n      return this.period.startDate.clone();\n    }\n    return date;\n  }\n\n  private getEndDateCurrentPeriod(endDate: moment_.Moment) {\n    const date = endDate.clone();\n    if (date.isAfter(this.period.endDate)) {\n      return this.period.endDate.clone();\n    }\n    return date;\n  }\n\n}\n","<div class=\"item {{item.class}}\"\n     *ngIf=\"isVisible(item)\"\n     [style.left.px]=\"(getDayOfPeriod(item.startTime) * DAY_WIDTH + SIDEBAR_WIDTH)\"\n     [style.minWidth.px]=\"(getDuration(item) * DAY_WIDTH)\"\n     [style.maxWidth.px]=\"(getDuration(item) * DAY_WIDTH)\"\n     [class.open-left]=\"isNotInPeriod(item.startTime)\"\n     [class.open-right]=\"isNotInPeriod(item.endTime)\"\n     (click)=\"open(item)\">\n  <ng-container *ngFor=\"let day of item.dates\">\n    <div class=\"blockade-day day-width-1\"\n         *ngIf=\"isInPeriod(day)\"\n         [style.left.px]=\"getDaysSince(item.startTime, day) * DAY_WIDTH\">\n      &nbsp;\n    </div>\n  </ng-container>\n  <div class=\"blockade-title\">\n    {{item.name}}\n    ({{item.startTime | timeChartDateFormatter}} - {{item.endTime | timeChartDateFormatter}})\n  </div>\n  <div *ngIf=\"item.details\" class=\"blockade-details\">\n    <p>{{item.details}}</p>\n  </div>\n</div>\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import {Pipe, PipeTransform} from '@angular/core';\nimport * as moment_ from 'moment';\n\nconst moment = moment_;\n\n@Pipe({\n  name: 'timeChartDateFormatter'\n})\n\nexport class TimeChartDateFormatterPipe implements PipeTransform {\n\n  transform(dateString: (string | moment_.Moment)): any {\n    return moment(dateString).format('D. M.');\n  }\n\n}\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}